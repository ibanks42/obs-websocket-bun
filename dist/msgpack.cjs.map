{"version":3,"sources":["/home/bonk/dev/obs-websocket-bun/dist/msgpack.cjs","../src/msgpack.ts"],"names":[],"mappings":"AAAA;AACE;AACA;AACA;AACA;AACA;AACF,wDAA6B;AAC7B;AACA;ACRA,2CAA6B;AAOtB,IAAM,aAAA,YAAN,MAAA,QAA2B,mCAAiB;AAAA,iBAClD,SAAA,EAAW,uBAAA;AAAA,EAEX,MAAgB,aAAA,CAAc,IAAA,EAAiD;AAC9E,IAAA,OAAO,6BAAA,IAAW,CAAA;AAAA,EACnB;AAAA,EAEA,MAAgB,aAAA,CAAc,IAAA,EAAoD;AAEjF,IAAA,GAAA,CAAI,OAAO,KAAA,IAAS,YAAA,GAAe,KAAA,WAAgB,IAAA,EAAM;AACxD,MAAA,KAAA,EAAO,MAAM,IAAA,CAAK,WAAA,CAAY,CAAA;AAAA,IAC/B;AAEA,IAAA,OAAO,6BAAA,IAA0B,CAAA;AAAA,EAClC;AACD,UAAA;AAEA,IAAO,gBAAA,EAAQ,YAAA;ADDf;AACE;AACA;AACA;AACA;AACA;AACA;AACF,uVAAC","file":"/home/bonk/dev/obs-websocket-bun/dist/msgpack.cjs","sourcesContent":[null,"import {decode, encode} from '@msgpack/msgpack';\nimport {BaseOBSWebSocket} from './base.js';\nexport {OBSWebSocketError} from './base.js';\nexport type {EventTypes} from './base.js';\nimport type {IncomingMessage, OutgoingMessage} from './types.js';\nexport * from './types.js';\n\nexport class OBSWebSocket extends BaseOBSWebSocket {\n\tprotocol = 'obswebsocket.msgpack';\n\n\tprotected async encodeMessage(data: OutgoingMessage): Promise<ArrayBufferView> {\n\t\treturn encode(data);\n\t}\n\n\tprotected async decodeMessage(data: ArrayBuffer | Blob): Promise<IncomingMessage> {\n\t\t// Browsers provide Blob while node gives straight ArrayBuffer\n\t\tif (typeof Blob !== 'undefined' && data instanceof Blob) {\n\t\t\tdata = await data.arrayBuffer();\n\t\t}\n\n\t\treturn decode(data as ArrayBuffer) as IncomingMessage;\n\t}\n}\n\nexport default OBSWebSocket;\n"]}